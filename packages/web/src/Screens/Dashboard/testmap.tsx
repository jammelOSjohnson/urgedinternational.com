import { createStyles, makeStyles, Theme } from "@material-ui/core";
import { Component, useEffect } from "react";
import Autocomplete from "react-google-autocomplete";
import { Map, GoogleApiWrapper } from 'google-maps-react'

const useStyles = makeStyles((theme: Theme) => 
    createStyles({
      autocomplete: {
        height: "400px",
        width: "100%"
      }
    }),
);

let points = [
  {lat: "17.862452783274218",  lng: "-77.23639526977539"},
  {lat: "17.867027547705508",  lng: "-77.22970047607421"},
  {lat: "17.87013178508555",   lng: "-77.22523728027343"},
  {lat: "17.876013349305136",  lng: "-77.22214737548828"},
  {lat: "17.88483533051143",   lng: "-77.22540894165039"},
  {lat: "17.89218664670124",   lng: "-77.22935715332031"},
  {lat: "17.90427481565215",   lng: "-77.23313370361328"},
  {lat: "17.915055460439493",  lng: "-77.23364868774414"},
  {lat: "17.921915529370207",  lng: "-77.22764053955078"},
  {lat: "-77.22420731201171",  lng: "17.93171516703546"},
  {lat: "-77.22008743896484",  lng: "17.931225198031044"},
  {lat: "-77.21459427490234",  lng: "17.930408580010674"},
  {lat: "-77.2066978515625",   lng: "17.929755282882773"},
  {lat: "-77.19965973510742",  lng: "-77.19354371259264"},
  {lat: "-77.18633393476061",  lng: "17.92779537703784"},
  {lat: "-77.1804974479442",   lng: "17.92599877762573"},
  {lat: "-77.17294434735827",  lng: "17.934001671127607"},
  {lat: "-77.17260102460436",  lng: "17.940371062512373"},
  {lat: "-77.17483262250475",  lng: "17.94755676732203"},
  {lat: "-77.17620591352038",  lng: "17.95599167057216"},
  {lat: "-77.17753119808778",  lng: "17.96236027017859"},
  {lat: "-77.17976279598817",  lng: "17.96236027017859"},
  {lat: "-77.18491263729676",  lng: "17.96023742913794"},
  {lat: "-77.19383902889832",  lng: "17.961870386047654"},
  {lat: "-77.2063703094159",   lng: "17.96562612968135"},
  {lat: "-77.21684165341004",  lng: "17.97117795230354"},
  {lat: "-77.22319312435731",  lng: "17.974443648811068"},
  {lat: "-77.22611136776551",  lng: "17.981954521597256"},
  {lat: "-77.23023124081239",  lng: "17.99425027689381"},
  {lat: "-77.23433859353429",  lng: "18.007147739754515"},
  {lat: "-77.23657019143468",  lng: "18.015636694018298"},
  {lat: "-77.23708517556554",  lng: "18.02053398158723"},
  {lat: "-77.24257833962804",  lng: "18.020860462583922"},
  {lat: "-77.24652655129796",  lng: "18.021023702855295"},
  {lat: "-77.25047476296788",  lng: "18.01971777644781"},
  {lat: "-77.25459463601476",  lng: "18.016942650682616"},
  {lat: "-77.25940115456945",  lng: "18.013351246561335"},
  {lat: "-77.26403601174718",  lng: "18.007474245556644"},
  {lat: "-77.27399237161046",  lng: "18.001597048589822"},
  {lat: "-77.28137381081945",  lng: "17.994087011824647"},
  {lat: "-77.29047186379796",  lng: "17.986413383144694"},
  {lat: "-77.29974157815343",  lng: "17.98461737930594"},
  {lat: "-77.30632670428857",  lng: "17.980698762041577"},
  {lat: "-77.31817133929833",  lng: "17.97873942079002"},
  {lat: "-77.32589610126122",  lng: "17.976616776563944"},
  {lat: "-77.33087428119286",  lng: "17.972861266582456"},
  {lat: "-77.3325908949624",   lng: "-77.33344920184716"},
  {lat: "17.96453354657696",   lng: "-77.3329342177163"},
  {lat: "17.96061448370187",   lng: "-77.33447917010888"},
  {lat: "17.954735726460253",  lng: "-77.3358524611245"},
  {lat: "17.948366852206146",  lng: "-77.33619578387841"},
  {lat: "17.94265100056745",   lng: "-77.33653910663232"},
  {lat: "17.93579173486814",   lng: "-77.33653910663232"},
  {lat: "17.928605552375455",  lng: "-77.33568079974755"},
  {lat: "17.92321572412226",   lng: "-77.33516581561669"},
  {lat: "17.91945908017353",   lng: "-77.33344920184716"},
  {lat: "17.917499060406673",  lng: "-77.32761271503075"},
  {lat: "17.916355705530886",  lng: "-77.31954463031396"},
  {lat: "17.914885666994387",  lng: "-77.30993159320458"},
  {lat: "17.914885666994387",  lng: "-77.30358012225732"},
  {lat: "17.916029031354316",  lng: "17.92076574797298"},
  {lat: "-77.29276545550927",  lng: "17.929912152704475"},
  {lat: "-77.29207881000146",  lng: "17.93856813634327"},
  {lat: "-77.29053385760888",  lng: "17.94706038811354"},
  {lat: "-77.28984721210107",  lng: "17.946243843155717"},
  {lat: "-77.28366740253075",  lng: "17.94689707942351"},
  {lat: "-77.27422602679833",  lng: "17.94689707942351"},
  {lat: "-77.26495631244286",  lng: "17.94608053371187"},
  {lat: "-77.2589481642495",   lng: "17.945590604475775"},
  {lat: "-77.25002177264794",  lng: "17.939058085023788"},
  {lat: "-77.24899180438622",  lng: "17.93513845760386"},
  {lat: "-77.24899180438622",  lng: "17.932198680081093"},
  {lat: "-77.24899180438622",  lng: "17.92615565077495"},
  {lat: "-77.24813349750146",  lng: "17.91994908172759"},
  {lat: "-77.2476185133706",   lng: "17.916682379105264"},
  {lat: "-77.24727519061669",  lng: "17.91161887103798"},
  {lat: "-77.24727519061669",  lng: "17.907861981262222"},
  {lat: "-77.24590189960107",  lng: "17.90149142102272"},
  {lat: "-77.24555857684716",  lng: "17.89855108527332"},
  {lat: "-77.24573023822411",  lng: "17.89234354977092"},
  {lat: "-77.24487193133935",  lng: "17.890383230288194"},
  {lat: "-77.24401362445458",  lng: "17.88646252637189"},
  {lat: "-77.24349864032372",  lng: "17.88205163096784"},
  {lat: "-77.24281199481591",  lng: "17.878620858793475"},
  {lat: "-77.24264033343896",  lng: "17.87437314428871"},
  {lat: "-77.24298365619286",  lng: "17.872576003731417"},
  {lat: "-77.24195368793114",  lng: "17.869798568935522"},
  {lat: "-77.24126704242333",  lng: "17.867511237097325"},
  {lat: "-77.24040873553857",  lng: "17.864815415354528"},
  {lat: "-77.23869212176902",  lng: "17.863916799021514"},
  {lat: "-77.23774798419578",  lng: "-77.23727591540916"},
  {lat: "17.86294591977265",   lng: "-77.23697550799949"},
  {lat: "17.862700840464154",  lng: "-77.23671801593406"},
  {lat: "17.862621763081062",  lng: "-77.23659332624848"},
  {lat: "17.862529858212387",  lng: "-77.23649140230592"},
  {lat: "17.862489011588853",  lng: "-77.23648067346986"},
  {lat: "17.862443059126143",  lng: "-77.23643775812562"},
  {lat: "17.862452783274218",  lng: "-77.23639526977539"}
  // lat: "17.862443059126143",
]

type MyProps = {
  google: any
}



class MapContainer extends  Component<MyProps> {
  //classes = useStyles();
  constructor(props : MyProps){
    super(props)
  } 
  state = {
    bounds: undefined
  };
  
  componentDidMount() {
    var bounds = new this.props.google.maps.LatLngBounds();
    // not calling here
    for(var i = 0; i < points.length; i++) {
      bounds.extend({lat: Number(points[i].lat), lng: Number(points[i].lng)});
    }
    this.setState({bounds: bounds});
  }

  render(){
    return (
        <Map
          google={this.props.google}
          style= {{width: "100%", height: "100%"}}
          zoom= {3}
          initialCenter = {
            {
              lat: 17.96454, lng: -77.24515
            }
          }
          bounds={this.state.bounds}
        />
    )
  }
}

let key = process.env.REACT_APP_GEO_API3 !== undefined? process.env.REACT_APP_GEO_API3 : "";
export default GoogleApiWrapper({
  apiKey: key,
})(MapContainer)
